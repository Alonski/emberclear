<aside class='
  menu has-background-white
  is-inverted flex-grow
  p-sm is-size-6
  flex-column justify-content-space-between
  '>
  <div>
    <div class='is-hidden-desktop'>
      <TopMobileSection />
    </div>

    <p class='menu-label m-t-sm m-b-sm flex-row justify-content-space-between align-items-center'>
      <span>Contacts</span>
      <span>

        <a
          class='button is-small'
          {{action (queue
            (action closeSidebar)
            (action toggleModal 'show-my-info')
          )}}>
          <span class='icon'>{{fa-icon 'share'}}</span>
        </a>

        <a
          class='button is-small'
          {{action (queue
            (action closeSidebar)
            (action toggleModal 'add-friend')
          )}}>
          <span class='icon'>{{fa-icon 'plus'}}</span>
        </a>

      </span>
    </p>

    <ul class='menu-list'>

      {{!--
        TODO: try to come up with a better solution for this type of responsive behavior.
              duplicating things feels weird.
      --}}

      {{#each @contacts as |contact|}}

        <li class='is-hidden-touch'>
          {{#link-to 'chat.privately-with' contact.id
            activeClass='is-active'
            class='flex-row align-items-center'}}

            <StatusIcon @contact={{contact}} />
            <span class='m-l-sm'>{{contact.name}}</span>

          {{/link-to}}
        </li>

        <li class='is-hidden-desktop'>
          <a class='flex-row align-items-center'
            {{action (queue
              (action closeSidebar)
              (transition-to 'chat.privately-with' contact.id)
            )}}>

            <StatusIcon @contact={{contact}} />
            <span class='m-l-sm'>{{contact.name}}</span>

          </a>
        </li>
      {{/each}}
    </ul>

    {{#if (not (is-present @contacts))}}
      You have no contacts.

      <InviteButtons class='w-100 is-hidden-touch' @beforeClick={{action closeSidebar}} />
    {{/if}}

    <p class='menu-label m-t-sm m-b-sm flex-row justify-content-space-between align-items-center'>
      <span>Channels</span>
      <a class='button is-small'>
        <span class='icon'>{{fa-icon 'plus'}}</span>
      </a>
    </p>

    <ul class='menu-list'>
      <li class='is-hidden-touch'>
        {{#link-to 'chat'}}
          # Everyone
        {{/link-to}}
      </li>

      <li class='is-hidden-desktop'>
        <a {{action (queue
          (action closeSidebar)
          (transition-to 'chat')
          )}}>
          # Everyone
        </a>
      </li>
    </ul>
  </div>

  {{#if isLoggedIn}}
    <a
      class='navbar-item align-self-end'
      {{action (queue
        (action closeSidebar)
        (transition-to 'logout')
      )}}>
      <span class='icon'>{{fa-icon 'sign-out-alt' prefix='fas'}}</span>
      <span>{{t 'routes.logout'}}</span>
    </a>
  {{/if}}
</aside>
