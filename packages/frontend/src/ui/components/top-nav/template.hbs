<div class='navbar is-fixed-top has-shadow {{if isChat "is-primary"}}'>
  <div class='navbar-brand'>

    {{#if isLoggedIn}}
      <div class='is-hidden-desktop'>
        <HamburgerButton
          @class='flex'
          @onClick={{action toggleSidebar}}
          @isActive={{sidebar.isShown}} />
      </div>
    {{/if}}

    {{#link-to 'application' class=(concat 'navbar-item ' (if isChat textColor))}}
      {{t 'appname'}}
    {{/link-to}}

    <CurrentChatName class='navbar-item' as |isVisible name|>
      {{#if isVisible}}
        <span class='chat-name'>
          {{name}}
        </span>
      {{/if}}
    </CurrentChatName>


    <HamburgerButton
      @onClick={{action toggleTouchMenu}}
      @isActive={{isTouchMenuVisible}} />
  </div>


  <div class="navbar-menu transition-all {{if isTouchMenuVisible 'is-active'}}">
    <div class="navbar-end">

      {{#if isLoggedIn}}
        <a class='navbar-item'
          {{action (queue
            (action toggleTouchMenu)
            (transition-to 'chat')
          )}}>
          {{t 'routes.chat'}}
        </a>

        <UserDropMenu
          class='navbar-item has-dropdown'
          @onClose={{action toggleTouchMenu}}
          />

      {{else}}
        <a class='navbar-item'
          {{action (queue
            (action toggleTouchMenu)
            (transition-to 'login')
          )}}>
          {{t 'routes.login'}}
        </a>

        <a class='navbar-item'
          {{action (queue
            (action toggleTouchMenu)
            (transition-to 'setup')
          )}}>
          {{t 'routes.createNewUser'}}
        </a>
      {{/if}}

    </div>
  </div>
</div>
